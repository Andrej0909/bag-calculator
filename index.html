<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bag Calculator</title>
    <style>
        * {
            box-sizing: border-box;
            }
            
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            margin: 20px;
            font-size: 25px;
            }

        table {
            width: 90vw;
            margin: 0 auto;
            table-layout: fixed;
            border-collapse: collapse;   
            }

        th, td {
            border: 3px solid #ddd;
            height: 50px;
            width: 25%;
            padding: 0;
            text-align: center;
            }

        input {
            width: 100%;
            height: 100%;
            font-size: 25px;
            text-align: center;
            background-color: #e0f3ff;
            border: 3px solid #2b2b2b;
            }

        /* Style for the result number next to the title */
        #result {
            font-size: 30px;
            position: absolute;
            right: 40px;
            top: 60px;
            }

        .button-container {
            display: flex;
            justify-content: center; /* Align buttons to the center */
            gap: 20px; /* Space between the buttons */
            margin-top: 20px; /* Space above the buttons */
            }

        button {
            font-size: 25px;
            cursor: pointer;
            height: 100%;  
            width: 20%;
            padding: 0;
            text-align: center;
            }

        .button2 {   
            height: 60px;  
            width: 23vw;
            }

        .lmc-btn {
            font-size: 25px;
            cursor: pointer;
            height: 60px;  
            width: 23vw;
            padding: 0;
            }

        .lmc-mode {
            background-color: #cea057; /* Color for LMC mode */
            color: white;
            }
        
        .diff-box {     /*LMC láthatatlan mző a piros kiírással*/
            position: absolute;
            bottom: 0;
            right: 0;
            height: 50%;
            font-size: 18px;
            border: transparent;
            color: red;
            background: transparent;
            display: inline;
            pointer-events: none;
            text-align: right;
            }

    </style>
</head>
<body>
    <h1>Bag Calculator <span id="result"></span></h1>
    
 <!-- Első sora a táblázatnak -->
<table>
    <tr>
        <th> </th>
        <th>Percent</th>
        <th>PCS</th>
        <th>Kg</th>
    </tr>
<!-- Második sora a táblázatnak -->
    <tr>
        <td>Total</td>
        <th> </th>
        <td>
            <div style="display: flex; align-items: center; height: 100%; width: 100%;">
            <button type="button" id="adjustpcsminus" onclick="adjustpcs(-1)">−</button>
            <input type="number" id="pcs" placeholder="Enter PCS" style="width: 80%; text-align: center; font-size: 25px;">
            <button type="button" id="adjustpcsplus" onclick="adjustpcs(1)">+</button>
            </div>
        </td>

        <td id="kg" style="position: relative;">
            <input type="number" id="kgvalue" placeholder="Enter Kg">
            <input id="kgdiff" type="text" readonly class="diff-box">
        </td>
    </tr>
 <!-- Harmadik sora a táblázatnak <input type="number" id="kg" placeholder="Enter Kg"> -->
    <tr>
        <td>Comp 1:</td>
        <td>
            <div style="display: flex; align-items: center; height: 100%; width: 100%;">
            <button type="button" id="adjustpercent1minus" onclick="adjustpercent1(-1)">−</button>
            <input type="number" id="percent1" placeholder="Enter Percent 1" min="0" max="100" value="30" style="width: 80%; text-align: center; font-size: 25px;">
            <button type="button" id="adjustpercent1plus"onclick="adjustpercent1(1)">+</button>
            </div>
        </td>

        <td>
            <div style="display: flex; align-items: center; height: 100%; width: 100%;">
            <button type="button" onclick="adjustpcs1(-1)">−</button>
            <input type="number" id="pcs1" placeholder="Enter PCS" style="width: 80%; text-align: center; font-size: 25px;">
            <button type="button" onclick="adjustpcs1(1)">+</button>
            </div>
        </td>

        <td id="cell34" style="position: relative;">
            <span id="kg1value"></span>
            <input id="kg1warning" type="text" readonly class="diff-box">
            <input id="kg1diff" type="text" readonly class="diff-box">
        </td>
        
    </tr>

<!-- Negyedik sora a táblázatnak -->
    <tr>
        <td>Comp 3:</td>
        <td id="cell42"></td>
        <td>
            <div style="display: flex; align-items: center; height: 100%; width: 100%;">
            <button type="button" id="adjustpcs3minus" onclick="adjustpcs3(-1)"disabled>−</button>
            <input type="number" id="pcs3" placeholder="Enter PCS" style="width: 80%; text-align: center; font-size: 25px;"disabled>
            <button type="button" id="adjustpcs3plus" onclick="adjustpcs3(1)"disabled>+</button>
            </div>
        </td>

        <td id="cell44" style="position: relative;">
            <span id="kg3value"></span>
            <input id="kg3warning" type="text" readonly class="diff-box">
            <input id="kg3diff" type="text" readonly class="diff-box">   
        </td>

    </tr>

<!-- Ötödik sora a táblázatnak -->
    <tr>
        <td>Comp 4:</td>

        <td>
            <div style="display: flex; align-items: center; height: 100%; width: 100%;">
            <button type="button" id="adjustpercent4minus"onclick="adjustpercent4(-1)">−</button> 
            <input type="number" id="percent4" placeholder="Enter Percent 4" min="0" max="100" value="30" style="width: 80%; text-align: center; font-size: 25px;">
            <button type="button" id="adjustpercent4plus"onclick="adjustpercent4(1)">+</button>
            </div>
        </td>

        <td>
            <div style="display: flex; align-items: center; height: 100%; width: 100%;">
            <button type="button" onclick="adjustpcs4(-1)">−</button>
            <input type="number" id="pcs4" placeholder="Enter PCS" style="width: 80%; text-align: center; font-size: 25px;">
            <button type="button" onclick="adjustpcs4(1)">+</button>
            </div>
        </td>

        <td id="cell54" style="position: relative;">
            <span id="kg4value"></span>
            <input id="kg4warning" type="text" readonly class="diff-box">
            <input id="kg4diff" type="text" readonly class="diff-box">
        </td>
    </tr>

<!-- Hatodik sora a táblázatnak -->
<tr>
    <td>Bulk:</td>
    <td id="cell62"></td>
    <td id="cell63"></td>
    <td id="cell64"></td>
</tr>

</table>
 

<!-- Alsó gombok -->
<div class="button-container">
    <button class="button2" type="button" onclick="setavst()">Avion standard</button>
    <button class="button2" type="button" onclick="resetFields()">Reset</button>
    <button class="lmc-btn" type="button" id="lmcButton" onclick="toggleLMC()">LMC</button>
    <button class="button2" type="button" onclick="setewst()">Eurowing standard</button>
</div>



<script>


    var isLMCMode = false; // Track whether LMC mode is on or off
    var bagkglmc = null; // Variable to store the bagkg constant
    var kg1valuelmc = null;

    // Toggle the LMC mode and change button color
    function toggleLMC() {
        isLMCMode = !isLMCMode; // Toggle mode state
        const lmcButton = document.getElementById('lmcButton');
    
        // Change button color depending on the mode
        if (isLMCMode) {
            lmcButton.classList.add('lmc-mode'); // Add LMC mode class for color change
            document.getElementById('pcs1').removeEventListener ('input', calculatepcs1);
            document.getElementById('pcs1').addEventListener ('input', calculatepcs1lmc);
            document.getElementById('pcs4').removeEventListener ('input', calculatepcs4);
            document.getElementById('pcs4').addEventListener ('input', calculatepcs4lmc);
            savedataforlmc(); // Save bagkg as a constant when LMC mode is active
            disableButtons();
        } else {
            lmcButton.classList.remove('lmc-mode'); // Remove LMC mode class for default color
            document.getElementById('kg1diff').value = '';
            document.getElementById('kg3diff').value = '';
            document.getElementById('kg4diff').value = '';
            document.getElementById('kgdiff').value = '';
            document.getElementById('pcs1').addEventListener ('input', calculatepcs1);
            document.getElementById('pcs1').removeEventListener ('input', calculatepcs1lmc);
            document.getElementById('pcs4').addEventListener ('input', calculatepcs4);
            document.getElementById('pcs4').removeEventListener ('input', calculatepcs4lmc);
            enableButtons();
            calculatepcs1();
            calculatepcs3();            
            }
        }

    // Save data as a constant for LMC mode calculation
    function savedataforlmc() {
        var pcs = document.getElementById('pcs').value;
        var kgvalue = document.getElementById('kgvalue').value;
        if (pcs && kgvalue) {
            var bagkg = (kgvalue / pcs).toFixed(2); // Calculate bagkg
            bagkglmc = bagkg; // Save it as a constant
            kgvaluelmc = kgvalue;
            kg1valuelmc = parseInt(document.getElementById('kg1value').textContent);
            kg3valuelmc = parseInt(document.getElementById('kg3value').textContent);
            kg4valuelmc = parseInt(document.getElementById('kg4value').textContent);
            }
        }

    // Function to calculate results
    function calculateall() {
        // Get inputs
        var pcs = document.getElementById('pcs').value;
        var percent1 = document.getElementById('percent1').value;
        var percent4 = document.getElementById('percent4').value;
        var kgvalue = document.getElementById('kgvalue').value;

        // Validate inputs
        if (!pcs || !percent1 || !percent4 || !kgvalue) {
            return;
        }

        // Calculations
        var bagkg = (kgvalue / pcs).toFixed(2); // 1 csomag súlyának számítása
        var pcs1 = Math.round((pcs / 100) * percent1); // Csomag száma a comp 1ben
        var pcs4 = Math.round((pcs / 100) * percent4); // Csomag száma a comp 4ben
        var percent3 = 100 - percent1 - percent4; // maradék csomag szazalek a comp 3ban
        var pcs3 = pcs - pcs1 - pcs4 ; // maradék csomag darab a comp 3ban
        var kg1value = Math.round(pcs1 * bagkg); // csomagok súlya a comp 1ben
        var kg4value = Math.round(pcs4 * bagkg); // csomagok súlya a comp 4ben
        var kg3value = kgvalue - kg1value - kg4value; // maradék csomag súly a comp 3ban

        // számított eredmények cellákhoz rendelése
        document.getElementById('result').innerHTML = "<strong>" + bagkg + "</strong> kgvalue/bag";
        document.getElementById('pcs1').value= pcs1;
        document.getElementById('kg1value').textContent = kg1value;
        document.getElementById('cell42').textContent = percent3;
        document.getElementById('pcs3').value = pcs3;
        document.getElementById('kg3value').textContent = kg3value;
        document.getElementById('pcs4').value = pcs4;
        document.getElementById('kg4value').textContent = kg4value;
        checklimit ()
        }

    function calculatepcs1() {
        var pcs1 = parseInt(document.getElementById('pcs1').value);
        var pcs = document.getElementById('pcs').value;
        var percent1 = Math.round((pcs1 / pcs) * 100); 
        document.getElementById('percent1').value = percent1.toFixed(0);
        var pcs = document.getElementById('pcs').value;
        var kgvalue = document.getElementById('kgvalue').value;
        var bagkg = (kgvalue / pcs);
        var kg1value = Math.round(pcs1 * bagkg);
        document.getElementById('kg1value').textContent = kg1value;
        var percent4 = document.getElementById('percent4').value;
        var percent3 = 100 - percent1 - percent4;
        document.getElementById('cell42').textContent = percent3;
        var pcs4 = parseInt(document.getElementById('pcs4').value);
        var pcs3 = pcs - pcs1 - pcs4;
        document.getElementById('pcs3').value = pcs3;
        var kg4value = Math.round(pcs4 * bagkg);
        var kg3value = kgvalue - kg1value - kg4value;
        document.getElementById('kg3value').textContent = kg3value;
        checklimit ()
        }

    function calculatepcs4() {
        var pcs4 = parseInt(document.getElementById('pcs4').value);
        var pcs = document.getElementById('pcs').value;
        var percent4 = Math.round((pcs4 / pcs) * 100); 
        document.getElementById('percent4').value = percent4.toFixed(0);
        var pcs = document.getElementById('pcs').value;
        var kgvalue = document.getElementById('kgvalue').value;
        var bagkg = (kgvalue / pcs);
        var kg4value = Math.round(pcs4 * bagkg);
        document.getElementById('kg4value').textContent = kg4value;
        var percent1 = document.getElementById('percent1').value;
        var percent3 = 100 - percent1 - percent4;
        document.getElementById('cell42').textContent = percent3;
        var pcs1 = parseInt(document.getElementById('pcs1').value);
        var pcs3 = pcs - pcs1 - pcs4;
        document.getElementById('pcs3').value = pcs3;
        var kg1value = Math.round(pcs1 * bagkg);
        var kg3value = kgvalue - kg1value - kg4value;
        document.getElementById('kg3value').textContent = kg3value;
        checklimit ()
        }

    function calculatepcs1lmc() {
        var pcs1 = parseInt(document.getElementById('pcs1').value);
        var kg1value = Math.round(pcs1 * bagkglmc);
        document.getElementById('kg1value').textContent = kg1value;
        var pcs = document.getElementById('pcs').value;
        var percent1 = Math.round((pcs1 / pcs) * 100); 
        document.getElementById('percent1').value = percent1.toFixed(0);
        var pcs3 = parseInt(document.getElementById('pcs3').value);
        var percent3 = Math.round((pcs3 / pcs) * 100);
        document.getElementById('cell42').textContent = percent3.toFixed(0);
        var pcs4 = parseInt(document.getElementById('pcs4').value);
        var percent4 = Math.round((pcs4 / pcs) * 100);
        document.getElementById('percent4').value = percent4.toFixed(0);
        var kg1diff= kg1value - kg1valuelmc; //A különbözet számítása
        document.getElementById('kg1diff').value = (kg1diff > 0 ? '+' : '') + kg1diff;
        calculatekglmc()
        }
    
    function calculatepcs3lmc() {
        var pcs3 = parseInt(document.getElementById('pcs3').value);
        var kg3value = Math.round(pcs3 * bagkglmc);
        document.getElementById('kg3value').textContent = kg3value;
        var pcs = document.getElementById('pcs').value;
        var pcs1 = parseInt(document.getElementById('pcs1').value);
        var percent1 = Math.round((pcs1 / pcs) * 100);
        document.getElementById('percent1').value = percent1.toFixed(0);
        var percent3 = Math.round((pcs3 / pcs) * 100);
        document.getElementById('cell42').textContent = percent3.toFixed(0);
        var pcs4 = parseInt(document.getElementById('pcs4').value);
        var percent4 = Math.round((pcs4 / pcs) * 100);
        document.getElementById('percent4').value = percent4.toFixed(0);
        var kg3diff= kg3value - kg3valuelmc; //A különbözet számítása
        document.getElementById('kg3diff').value = (kg3diff > 0 ? '+' : '') + kg3diff;
        calculatekglmc()
        }

    function calculatepcs4lmc() {
        var pcs4 = parseInt(document.getElementById('pcs4').value);
        var kg4value = Math.round(pcs4 * bagkglmc);
        document.getElementById('kg4value').textContent = kg4value;
        var pcs = document.getElementById('pcs').value;
        var percent4 = Math.round((pcs4 / pcs) * 100);
        document.getElementById('percent4').value = percent4.toFixed(0);
        var pcs1 = parseInt(document.getElementById('pcs1').value);
        var percent1 = Math.round((pcs1 / pcs) * 100);
        document.getElementById('percent1').value = percent1.toFixed(0);
        var pcs3 = parseInt(document.getElementById('pcs3').value);
        var percent3 = Math.round((pcs3 / pcs) * 100);
        document.getElementById('cell42').textContent = percent3.toFixed(0);
        var kg4diff= kg4value - kg4valuelmc; //A különbözet számítása
        document.getElementById('kg4diff').value = (kg4diff > 0 ? '+' : '') + kg4diff;
        calculatekglmc()
        }

    function calculatekglmc() {
        checklimit ()
        kg1value = parseInt(document.getElementById('kg1value').textContent);
        kg3value = parseInt(document.getElementById('kg3value').textContent);
        kg4value = parseInt(document.getElementById('kg4value').textContent);
        var kgvalue = kg1value + kg3value + kg4value
        document.getElementById('kgvalue').value = kgvalue;
        var kgdiff= kgvalue - kgvaluelmc; //A különbözet számítása
        document.getElementById('kgdiff').value = (kgdiff > 0 ? '+' : '') + kgdiff;
        }

    function resetFields() {
        // Clear pcs and kgvalue fields
        if (isLMCMode === true) {
            document.getElementById('lmcButton').click();
            }
        document.getElementById('pcs').value = '';
        document.getElementById('kgvalue').value = '';
        document.getElementById('pcs1').value = '';
        document.getElementById('pcs4').value = '';
        document.getElementById('percent1').value = 30;
        document.getElementById('percent4').value = 30;
        document.getElementById('kg1value').textContent = '';
        document.getElementById('cell42').textContent = '';
        document.getElementById('pcs3').value = '';
        document.getElementById('kg3value').textContent = '';
        document.getElementById('kg4value').textContent = '';
        document.getElementById('cell63').textContent = '';
        document.getElementById('cell64').textContent = '';       
        enableButtons();
        checklimit ()
        }

    function setavst() {    //to calculate for avionexpress standard loading
        if (isLMCMode === true) {
            document.getElementById('lmcButton').click();
            }
        document.getElementById('percent1').value = 30;
        document.getElementById('percent4').value = 30;
        document.getElementById('cell63').textContent = '';
        document.getElementById('cell64').textContent = '';
        calculateall();
        checklimit ()
        }

    function setewst() {    //to calculate for eurowing standard loading
        if (isLMCMode === true) {
            document.getElementById('lmcButton').click();
            }
        document.getElementById('percent1').value = '';
        document.getElementById('cell42').textContent = '';
        document.getElementById('percent4').value = '';
        var pcs = document.getElementById('pcs').value;
        var kgvalue = document.getElementById('kgvalue').value;
        var bagkg = (kgvalue / pcs);
        document.getElementById('result').innerHTML = "<strong>" + bagkg.toFixed(2) + "</strong> kgvalue/bag";
        var maxpcs1= Math.floor(1500 / bagkg);
        var pcs1 = Math.min(pcs, maxpcs1);
        document.getElementById('pcs1').value = pcs1;
        var maxpcs34= Math.floor(1000 / bagkg);
        var pcs3 = Math.min(pcs - pcs1, maxpcs34);
        document.getElementById('pcs3').value = pcs3;
        var kg3value = Math.round(pcs3 * bagkg);
        document.getElementById('kg3value').textContent = kg3value;
        var pcs4 = Math.min(pcs - pcs1 - pcs3, maxpcs34);
        document.getElementById('pcs4').value = pcs4;
        var kg4value = Math.round(pcs4 * bagkg);
        document.getElementById('kg4value').textContent = kg4value;
        var pcsb = pcs - pcs1 - pcs3 - pcs4;
        document.getElementById('cell63').textContent = pcsb;
        var kgb= Math.round(pcsb * bagkg)
        document.getElementById('cell64').textContent = kgb;
        var kg1value = kgvalue - kgb - kg4value -kg3value; // csomagok súlya a comp 1ben
        document.getElementById('kg1value').textContent = kg1value;
        checklimit ()
        }

    //Gombok és mezők ki/be kapcsolása
    function disableButtons() {
        document.getElementById('adjustpcsplus').disabled = true; 
        document.getElementById('adjustpcsminus').disabled = true; 
        document.getElementById('pcs').disabled = true;
        document.getElementById('kgvalue').disabled = true;
        document.getElementById('adjustpercent1plus').disabled = true; 
        document.getElementById('adjustpercent1minus').disabled = true; 
        document.getElementById('percent1').disabled = true;
        document.getElementById('adjustpercent4plus').disabled = true; 
        document.getElementById('adjustpercent4minus').disabled = true; 
        document.getElementById('percent4').disabled = true;
        document.getElementById('adjustpcs3plus').disabled = false; 
        document.getElementById('adjustpcs3minus').disabled = false; 
        document.getElementById('pcs3').disabled = false;
        }
    
    function enableButtons() {
        document.getElementById('adjustpcsplus').disabled = false; 
        document.getElementById('adjustpcsminus').disabled = false; 
        document.getElementById('pcs').disabled = false;
        document.getElementById('kgvalue').disabled = false;
        document.getElementById('adjustpercent1plus').disabled = false; 
        document.getElementById('adjustpercent1minus').disabled = false; 
        document.getElementById('percent1').disabled = false;
        document.getElementById('adjustpercent4plus').disabled = false; 
        document.getElementById('adjustpercent4minus').disabled = false; 
        document.getElementById('percent4').disabled = false;
        document.getElementById('adjustpcs3plus').disabled = true; 
        document.getElementById('adjustpcs3minus').disabled = true; 
        document.getElementById('pcs3').disabled = true;
        }

    function checklimit () {
        kg1value = parseInt(document.getElementById('kg1value').textContent);
        kg3value = parseInt(document.getElementById('kg3value').textContent);
        kg4value = parseInt(document.getElementById('kg4value').textContent);
        if (kg1value > 3402) {
            document.getElementById('kg1warning').value = "LIMIT: 3402!";   //3402 cp1
        } else{
            document.getElementById('kg1warning').value = " ";
        }
        if (kg3value > 2146) {
            document.getElementById('kg3warning').value = "LIMIT: 2146!";   //2146 cp3
        } else{
            document.getElementById('kg3warning').value = " ";
        }
        if (kg4value > 2110) {
            document.getElementById('kg4warning').value = "LIMIT: 2110!";   //2110 cp4
        } else{
            document.getElementById('kg4warning').value = " ";
        }                                                                   //bulk limit 1497 cpb
        }

    //A GOMBOKHOZ TARTOZÓ FÜGGVÉNYEK
    function adjustpcs(change) {
        const pcsInput = document.getElementById('pcs');
        let currentValue = parseInt(pcsInput.value) || 0;
        currentValue += change;
        if (currentValue < 0) currentValue = 0; // Prevent negative values
        pcsInput.value = currentValue;
        calculateall(); // Trigger recalculation
        }

    function adjustpercent1(change) {
        const percent1Input = document.getElementById('percent1');
        let currentValue = parseInt(percent1Input.value) || 0;
        currentValue += change;
        if (currentValue < 0) currentValue = 0; // Prevent negative values
        if (currentValue > 100) currentValue = 100; // Prevent values above 100
        percent1Input.value = currentValue;
        calculateall(); // Trigger recalculation
        }

    function adjustpcs1(change) {
        if (isLMCMode) {
            const pcs1Input = document.getElementById('pcs1');
            const pcsInput = document.getElementById('pcs');
            let currentValue = parseInt(pcs1Input.value) || 0;
            let currentValuePcs = parseInt(pcsInput.value) || 0;
            currentValue += change;
            currentValuePcs += change;
            if (currentValue < 0) return; // Prevent negative values
            pcs1Input.value = currentValue;
            pcsInput.value = currentValuePcs;
            calculatepcs1lmc();
        } else {
            const pcs1Input = document.getElementById('pcs1');
            let currentValue = parseInt(pcs1Input.value) || 0;
            currentValue += change;
            if (currentValue < 0) currentValue = 0; // Prevent negative values
            pcs1Input.value = currentValue;
            calculatepcs1(); // Trigger recalculation
            }
        }

    function adjustpcs3(change) {
        const pcs3Input = document.getElementById('pcs3');
        const pcsInput = document.getElementById('pcs');
        let currentValue = parseInt(pcs3Input.value) || 0;
        let currentValuePcs = parseInt(pcsInput.value) || 0;
        currentValue += change;
        currentValuePcs += change;
        if (currentValue < 0) return; // Prevent negative values
        pcs3Input.value = currentValue;
        pcsInput.value = currentValuePcs;
        calculatepcs3lmc();
        }    

    function adjustpercent4(change) {
        const percent4Input = document.getElementById('percent4');
        let currentValue = parseInt(percent4Input.value) || 0;
        currentValue += change;
        if (currentValue < 0) currentValue = 0; // Prevent negative values
        if (currentValue > 100) currentValue = 100; // Prevent values above 100
        percent4Input.value = currentValue;
        calculateall(); // Trigger recalculation
        }

    function adjustpcs4(change) {
        if (isLMCMode) {
            const pcs4Input = document.getElementById('pcs4');
            const pcsInput = document.getElementById('pcs');
            let currentValue = parseInt(pcs4Input.value) || 0;
            let currentValuePcs = parseInt(pcsInput.value) || 0;
            currentValue += change;
            currentValuePcs += change;
            if (currentValue < 0) return; // Prevent negative values
            pcs4Input.value = currentValue;
            pcsInput.value = currentValuePcs;
            calculatepcs4lmc();
        } else {
            const pcs4Input = document.getElementById('pcs4');
            let currentValue = parseInt(pcs4Input.value) || 0;
            currentValue += change;
            if (currentValue < 0) currentValue = 0; // Prevent negative values
            pcs4Input.value = currentValue;
            calculatepcs4(); // Trigger recalculation
            }
        }

    // Add event listeners to each input field to trigger calculation on change
    document.getElementById('pcs').addEventListener('input', calculateall);
    document.getElementById('percent1').addEventListener('input', calculateall);
    document.getElementById('percent4').addEventListener('input', calculateall);
    document.getElementById('kgvalue').addEventListener('input', calculateall);
    document.getElementById('pcs1').addEventListener ('input', calculatepcs1);
    document.getElementById('pcs4').addEventListener('input', calculatepcs4);
    document.getElementById('pcs3').addEventListener ('input', calculatepcs3lmc);
  
    // In this code we check if the browser supports Service Workers
    async function registerServiceWorker() {
    if ("serviceWorker" in navigator) {
        try {
        const registration = await navigator.serviceWorker.register(
        "sw.js"
        );
        console.log(
        "Service Worker registered with scope:",
        registration.scope
        );
        } catch (error) {
        console.error("Service Worker registration failed:", error);
    }}}

    registerServiceWorker();
</script>
</body>
</html>
